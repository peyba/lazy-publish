#!/bin/bash

version=v0.1.3
words=($@)
params=(${words[@]:1})
usage="LazyP
$version

Usage:

      $(basename "$0") <command> [arguments]

Commands:

      publish
      dependency
      version
      check-dependency
      m2-installed
      find-dependency

Use \"$(basename "$0") <command> --help\" for more information about a command.
"

if [ -z "$LAZYP_HOME" ]; then
   echo "\$LAZYP_HOME is not set! Set in on lazyp root home directory and try agaÑˆn" >&2
   exit 1
fi

case "$1" in
   --help|"")
      echo "$usage" && exit
      ;;
   --version)
      echo $version
      ;;
   publish)
      $LAZYP_HOME/bin/lp.sh ${params[@]}
      #python3 $LAZYP_HOME/py/publish.py ${params[@]}
      ;;
   dependency)
      python3 $LAZYP_HOME/py/pom_dep.py ${params[@]}
      ;;
   version)
      python3 $LAZYP_HOME/py/pom_ver.py ${params[@]}
      ;;
   check-dependency)
      python3 $LAZYP_HOME/py/dep_check.py ${params[@]}
      ;;
   m2-installed)
      python3 $LAZYP_HOME/py/m2_installed.py ${params[@]}
      ;;
   find-dependency)
      python3 $LAZYP_HOME/py/find_dep.py ${params[@]}
      ;;
   *)
      printf "illegal command: %s; try --help\n" "$1" >&2
      exit 1
      ;;
esac